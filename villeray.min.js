var S=Object.defineProperty;var a=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var m=(t,e,r)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p=(t,e)=>{for(var r in e||(e={}))N.call(e,r)&&m(t,r,e[r]);if(a)for(var r of a(e))w.call(e,r)&&m(t,r,e[r]);return t};function d(t){t.class instanceof Array&&(t.class=t.class.join(" ")),t.className=t.class,delete t.class}var C=/(?<=[a-z])[A-Z]/g;function O(t){return t.replaceAll(C,e=>`-${e}`.toLowerCase())}function A([t,e]){return`${O(t)}: ${e};`}function g(t){t.style instanceof Object&&(t.style=Object.entries(t.style).map(A).join(" "))}var i=class{constructor(e,r,n){this.tag=e,this.attrs=r,this.children=n}static debug(e){return new i("pre",{},h(e))}};function E(t,e,...r){if(typeof t!="string"){let n="error: 'tag' must be a string";return console.log(new Error(n),t),`(${n})`}if((e==null?void 0:e.constructor)!==Object){let n="error: 'attrs' must be an object";return console.log(new Error(n),t),`(${n})`}return new i(t,e,r)}function h(t){return t instanceof Function?`[function ${t.name}]`:t.toString!==Object.prototype.toString?t.toString():JSON.stringify(t,(e,r)=>h(r),2)}function y(t){return t!=null&&typeof t[Symbol.iterator]=="function"?[...t].map($):[t]}function $(t){switch(t==null?void 0:t.constructor){case i:return t;case String:case Number:return t.toString();case Boolean:case void 0:return"";default:return i.debug(t)}}function f(t,e){let r=y(e),n=r.length,s=t.childNodes.length,c=Math.min(n,s);for(let o=0;o<c;o++)T(t.childNodes[o],r[o]);for(let o=c;o<n;o++)t.append(l(r[o]));let b=[...t.childNodes];for(let o=c;o<s;o++)b[o].remove()}function T(t,e){if(typeof e=="string"){if(t.nodeType===Node.TEXT_NODE){t.textContent!==e&&(t.textContent=e);return}t.replaceWith(l(e));return}if(e.tag.toUpperCase()===t.tagName){f(t,e.children),j(t,e.attrs);return}t.replaceWith(l(e))}function j(t,e){var n;let r=(n=t.vnodeAttrs)!=null?n:{};e=p({},e),g(e),d(e),t.vnodeAttrs=e;for(let[s,c]of Object.entries(e))t[s]!==c&&(t[s]=c);for(let s of Object.keys(r))e[s]==null&&delete t[s]}var u=!1;function l(t){if(typeof t=="string")return document.createTextNode(t);let{tag:e,attrs:r,children:n}=t,s=u;u||(u=e.toUpperCase()==="SVG");let c=u?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return f(c,n),j(c,r),u=s,c}var x=[];function V(t,e){x.push({elem:t,app:e}),f(t,e())}function k(){for(let{elem:t,app:e}of x)f(t,e())}export{V as mount,k as refresh,E as v};
